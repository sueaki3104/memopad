<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>ğŸƒãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã®è¨˜éŒ²ğŸƒ</title>
  <link rel="stylesheet" href="css/memoèª²é¡Œver1.css">
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css" />
  <script src="http://code.jquery.com/jquery-1.8.3.js"></script>
  <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1/i18n/jquery.ui.datepicker-ja.min.js"></script>
</head>

<body>
  <header>
    <h1>ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã®è¨˜éŒ²</h1>
  </header>
  <div class="run_record">
    <ul>èµ°ã£ãŸæ—¥</ul>
    <input type="text" id="datepicker" width="150px" heigth="60px" placeholder="ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„">
    <ul>èµ°ã£ãŸè·é›¢ï¼ˆå˜ä½ï¼škmï¼‰ </ul>
    <!-- input type="number" ã ã¨ãƒã‚¤ãƒŠã‚¹ãŒå…¥åŠ›å¯èƒ½ -->
    <!-- ãªã®ã§MAXMINã‚’è¨­å®š -->
    <input type="number" step="1" id="run_distance" text="km" max="150" min="0" placeholder="kmä»¥ä¸‹åˆ‡ã‚Šæ¨ã¦">
    <div class="error">å°æ•°ç‚¹ä»¥ä¸‹ã¯å…¥åŠ›ã§ãã¾ã›ã‚“</div>
  </div>
  <button id="save">ä¿ã€€å­˜</button>
  <button id="remove">æ¶ˆã€€å»</button>

  <footer>
    <small>G's</small>
  </footer>

  <script>
    //èµ°ã£ãŸæ—¥ã®å³å´ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸã‚‰ã€ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãŒå‡ºã¦ãã¦æ—¥ä»˜ã‚’æŒ‡å®šã§ãã‚‹
    //æ—¥æœ¬èªã‚’æŒ‡å®š  
    $(function () {
      $.datepicker.setDefaults($.datepicker.regional["ja"]);
      $("#datepicker").datepicker();
    });
    // ä¿å­˜ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸã‚‰æ—¥ä»˜ã‚’datepickerã€€èµ°è¡Œè·é›¢ã‚’run_distanceã€€ã«ã¦ç¢ºå®š
    $('#save').on('click', function () {
      const datepicker = $('#datepicker').val();
      const run_distance = $('#run_distance').val();
      const run_data = {
        datepicker: datepicker,
        run_distance: run_distance,
      }
      // ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ãŒå‹•ã„ã¦ã„ã‚‹ã‹ã®ãƒã‚§ãƒƒã‚¯
      console.log(run_data);
      // äº’æ›æ€§ã®ã‚ã‚‹JSONDATAã«å¤‰æ›ã™ã‚‹ä½œæ¥­ãŒå¿…è¦
      const jsonData = JSON.stringify(run_data);
      console.log(jsonData)
      localStorage.setItem("key1", jsonData);
    });

    if (localStorage.getItem('key1')) {
      const jsonData = localStorage.getItem("key1");
      console.log(jsonData);
      const run_data = JSON.parse(jsonData);
      console.log(run_data);
      const datepicker = run_data.datepicker;
      const run_distance = run_data.run_distance;

      $('#datepicker').val(datepicker);
      $('#run_distance').val(run_distance);
    };

    $('#remove').on('click', function () {
      $('#datepicker', '#run_distance').val('');
      localStorage.removeItem("key1");
    });


  </script>










</body>

</html>